---
name: review-fix-plan
description: |
  코드 리뷰 후 수정 계획 문서를 생성하는 스킬.
  코드 리뷰 결과를 구조화된 마크다운 문서로 docs/local/ 하위에 저장한다.
  "리뷰 문서 만들어줘", "코드리뷰 정리해줘", "/review-fix-plan" 요청 시 사용.
---

# Review Fix Plan

코드 리뷰 결과를 **문제상황 → 문제원인 → 해결 방법 → 결과** 4단계 구조로 정리하여
`docs/local/` 하위에 마크다운 문서로 저장한다.

## When to Use

- 코드 리뷰 수행 후 이슈를 문서로 정리하고 싶을 때
- "리뷰 문서 만들어줘", "코드리뷰 정리해줘" 요청 시
- "/review-fix-plan" 슬래시 커맨드 입력 시
- PR 리뷰 후 수정 사항을 추적하고 싶을 때

## Process

1. **리뷰 결과 수집**: 현재 대화에서 발견된 코드 리뷰 이슈 파악
   - 각 이슈의 심각도 판단 (CRITICAL / WARNING / LOW)
   - 관련 파일과 코드 위치 식별

2. **문서 작성**: 아래 템플릿에 맞춰 각 이슈를 정리

3. **파일 저장**: `docs/local/{도메인}-review-fixes.md` 경로에 저장
   - 기존 파일이 있으면 덮어쓰기 (같은 PR/작업 단위)

4. **완료 보고**: 저장된 파일 경로를 사용자에게 알림

## Template

```markdown
# {작업명} 코드 리뷰 이슈 분석 ({날짜})

## 수정 파일

- `{파일 경로 1}`
- `{파일 경로 2}`

---

## [{심각도 코드}] {위치} — {이슈 한줄 요약}

**심각도**: {이모지} {CRITICAL | WARNING | LOW}

**문제 상황**: {어떤 동작이 문제인지 사용자 관점에서 서술}

**문제 원인**: {왜 이 문제가 발생했는지 코드 레벨에서 분석}

```java
// AS-IS — 문제 코드
{기존 코드}
```

**해결 방법**: {구체적인 수정 방안 서술}

```java
// TO-BE — 개선 코드
{수정 코드}
```

**결과**: {수정 완료 여부, 수정 후 기대 효과}

---

## 패턴 정리

| 상황 | 패턴 |
|------|------|
| {이번 리뷰에서 얻은 교훈} | {재발 방지를 위한 규칙} |
```

## Severity Guide

| 코드 | 이모지 | 기준 |
|------|--------|------|
| C-N | 🔴 CRITICAL | 잘못된 데이터 반환, 런타임 에러, 보안 취약점 |
| W-N | 🟡 WARNING | 성능 저하, 중복 코드, 유지보수 위험 |
| L-N | 🟢 LOW | dead code, 네이밍, 스타일 |

## Naming Convention

- 파일명: `{도메인}-review-fixes.md` (예: `feed-modify-existing-review-fixes.md`)
- 이슈 ID: `[{심각도 첫글자}-{번호}]` (예: `[C-1]`, `[W-2]`, `[L-1]`)
